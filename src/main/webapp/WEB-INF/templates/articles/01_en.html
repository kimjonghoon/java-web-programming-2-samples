<html xmlns:th="http://www.thymeleaf.org">

<head>
<title>Thymeleaf</title>
<meta name="Keywords" content="Thymeleaf,jwp2samples,thymeleaf-spring6,jetty plugin,Java-based Configuration,Prototype,Thymeleaf base layout,css positioning,tomcat,how to deploy app to tomcat,ROOT.xml,mvn clean compile war:inplace,mvn clean jetty:run,i18n,homepage,MessageSource,Bean Validation,Sign Up,Login,Change Password," />
<meta name="Description" content="This article covers examples for Thymeleaf, Spring, Mybatis Spring, i18n, MessageSource and Bean Validation." />
<link rel="stylesheet" media="all" href="../../../static/css/ko.css" />
<link rel="stylesheet" media="all" href="../../../static/css/screen.css" />
<link rel="stylesheet" media="all" href="../../../static/css/prettify.css" />
<script src="../../../static/js/run_prettify.js"></script>
</head>

<body>

<article id="get-started">

<h1>Thymeleaf</h1>

<div class="filename">jwp2samples</div>
<p style="margin: 0;padding: 0">
<img src="../../../static/images/tree.png" th:src="@{/static/images/tree.png}" alt="example directory" />
</p>

<div class="filename" id="pom.xml">pom.xml</div>
<pre class="prettyprint">&lt;project xmlns="http://maven.apache.org/POM/4.0.0"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 
  http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
&lt;groupId&gt;net.java_school.tutorial&lt;/groupId&gt;
&lt;artifactId&gt;jwp2samples&lt;/artifactId&gt;
&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;
&lt;packaging&gt;war&lt;/packaging&gt;
&lt;name&gt;Java Web Programming 2nd Edition Samples&lt;/name&gt;
&lt;url&gt;http://localhost:8080&lt;/url&gt;
&lt;properties&gt;
  &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
  &lt;maven.compiler.source&gt;<strong>17</strong>&lt;/maven.compiler.source&gt;
  &lt;maven.compiler.target&gt;<strong>17</strong>&lt;/maven.compiler.target&gt;
  &lt;spring.version&gt;<strong>6.1.14</strong>&lt;/spring.version&gt;
&lt;/properties&gt;
&lt;dependencyManagement&gt;
  &lt;dependencies&gt;
    &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-framework-bom --&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.springframework&lt;/groupId&gt;
      &lt;artifactId&gt;spring-framework-bom&lt;/artifactId&gt;
      &lt;version&gt;${spring.version}&lt;/version&gt;
      &lt;type&gt;pom&lt;/type&gt;
      &lt;scope&gt;import&lt;/scope&gt;
    &lt;/dependency&gt;
  &lt;/dependencies&gt;		
&lt;/dependencyManagement&gt;
&lt;dependencies&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;org.springframework&lt;/groupId&gt;
    &lt;artifactId&gt;<strong>spring-webmvc</strong>&lt;/artifactId&gt;
  &lt;/dependency&gt;
  &lt;!-- https://mvnrepository.com/artifact/org.thymeleaf/thymeleaf-spring6 --&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;
    &lt;artifactId&gt;<strong>thymeleaf-spring6</strong>&lt;/artifactId&gt;
    &lt;version&gt;<strong>3.1.2.RELEASE</strong>&lt;/version&gt;
  &lt;/dependency&gt;
  &lt;!-- https://mvnrepository.com/artifact/jakarta.servlet/jakarta.servlet-api --&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;
    &lt;artifactId&gt;<strong>jakarta.servlet-api</strong>&lt;/artifactId&gt;
    &lt;version&gt;<strong>6.0.0</strong>&lt;/version&gt;
    &lt;scope&gt;provided&lt;/scope&gt;
  &lt;/dependency&gt;
&lt;/dependencies&gt;
&lt;build&gt;
  &lt;finalName&gt;jwp2samples&lt;/finalName&gt;
  &lt;pluginManagement&gt;
    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;
        &lt;version&gt;3.1.0&lt;/version&gt;
	&lt;configuration&gt;
          &lt;filesets&gt;
            &lt;fileset&gt;
              &lt;directory&gt;src/main/webapp/WEB-INF/classes&lt;/directory&gt;
            &lt;/fileset&gt;
            &lt;fileset&gt;
              &lt;directory&gt;src/main/webapp/WEB-INF/lib&lt;/directory&gt;
            &lt;/fileset&gt;
          &lt;/filesets&gt;
	&lt;/configuration&gt;
      &lt;/plugin&gt;
      &lt;plugin&gt;
        &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;
        &lt;version&gt;3.0.2&lt;/version&gt;
      &lt;/plugin&gt;
      &lt;plugin&gt;
        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;
        &lt;version&gt;3.8.0&lt;/version&gt;
      &lt;/plugin&gt;
      &lt;plugin&gt;
        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;
        &lt;version&gt;2.22.1&lt;/version&gt;
      &lt;/plugin&gt;
      &lt;plugin&gt;
        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;
        &lt;version&gt;3.2.2&lt;/version&gt;
      &lt;/plugin&gt;
      &lt;plugin&gt;
        &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;
        &lt;version&gt;2.5.2&lt;/version&gt;
      &lt;/plugin&gt;
      &lt;plugin&gt;
        &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;
        &lt;version&gt;2.8.2&lt;/version&gt;
      &lt;/plugin&gt;
      &lt;!-- https://mvnrepository.com/artifact/org.eclipse.jetty/jetty-maven-plugin --&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;
	&lt;artifactId&gt;<strong>jetty-maven-plugin</strong>&lt;/artifactId&gt;
        &lt;version&gt;<strong>11.0.24</strong>&lt;/version&gt;
      &lt;/plugin&gt;
    &lt;/plugins&gt;
  &lt;/pluginManagement&gt;
&lt;/build&gt;
&lt;/project&gt;
</pre>

</article>

<article id="java-based-config">

<h3>Java-based Configuration</h3>

<pre class="commandLine">mkdir -p src/main/java/net/java_school/config</pre>

<div class="filename" id="MvcWebConfig.java">MvcWebConfig.java</div>
<pre class="prettyprint">package net.java_school.config;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.context.ApplicationContext;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.ComponentScan;
import org.springframework.context.annotation.Configuration;
import org.springframework.web.servlet.config.annotation.EnableWebMvc;
import org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;
import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;
import org.thymeleaf.spring6.SpringTemplateEngine;
import org.thymeleaf.spring6.templateresolver.SpringResourceTemplateResolver;
import org.thymeleaf.spring6.view.ThymeleafViewResolver;
import org.thymeleaf.templatemode.TemplateMode;

<strong>@Configuration</strong>
<strong>@EnableWebMvc</strong>
<strong>@ComponentScan("net.java_school.controller")</strong>
public class MvcWebConfig implements <strong>WebMvcConfigurer</strong> {

  @Autowired
  private ApplicationContext applicationContext;

  @Override
  public void addResourceHandlers(final ResourceHandlerRegistry registry) {
    <strong>registry.addResourceHandler("/static/**").addResourceLocations("/static/");</strong>
  }

  <strong>@Bean</strong>
  <strong>public SpringResourceTemplateResolver templateResolver() {</strong>
    <strong>SpringResourceTemplateResolver templateResolver = new SpringResourceTemplateResolver();</strong>
    <strong>templateResolver.setApplicationContext(this.applicationContext);</strong>
    <strong>templateResolver.setPrefix("/WEB-INF/templates/");</strong>
    <strong>templateResolver.setSuffix(".html");</strong>
    <strong>templateResolver.setTemplateMode(TemplateMode.HTML);</strong>
    <strong>templateResolver.setCacheable(true);</strong>
    <strong>return templateResolver;</strong>
  <strong>}</strong>

  <strong>@Bean</strong>
  <strong>public SpringTemplateEngine templateEngine() {</strong>
    <strong>SpringTemplateEngine templateEngine = new SpringTemplateEngine();</strong>
    <strong>templateEngine.setTemplateResolver(templateResolver());</strong>
    <strong>templateEngine.setEnableSpringELCompiler(true);</strong>
    <strong>return templateEngine;</strong>
  <strong>}</strong>

  <strong>@Bean</strong>
  <strong>public ThymeleafViewResolver viewResolver() {</strong>
    <strong>ThymeleafViewResolver viewResolver = new ThymeleafViewResolver();</strong>
    <strong>viewResolver.setTemplateEngine(templateEngine());</strong>
    <strong>viewResolver.setCharacterEncoding("UTF-8");</strong>
    <strong>return viewResolver;</strong>
  <strong>}</strong>
}
</pre>

<div class="filename" id="MvcWebApplicationInitializer.java">MvcWebApplicationInitializer.java</div>
<pre class="prettyprint">package net.java_school.config;

import org.springframework.web.servlet.support.AbstractAnnotationConfigDispatcherServletInitializer;

public class MvcWebApplicationInitializer extends AbstractAnnotationConfigDispatcherServletInitializer {
  @Override
  protected Class&lt;?&gt;[] getRootConfigClasses() {
    return null;
  }
  @Override
  protected Class&lt;?&gt;[] getServletConfigClasses() {
    return new Class[] { <strong>MvcWebConfig.class</strong> };
  }
  @Override
  protected String[] getServletMappings() {
    return new String[] { "<strong>/</strong>" };
  }
}
</pre>

</article>

<article id="prototype">

<h3>Prototype</h3>

<pre class="commandLine">mkdir -p src/main/webapp/WEB-INF/templates/layout</pre>

<div class="filename">baseLayoutFile.html</div>
<pre class="prettyprint">&lt;!DOCTYPE html&gt;
&lt;html lang="ko"&gt;
&lt;head&gt;
&lt;meta charset="UTF-8"&gt;
&lt;title&gt;Title&lt;/title&gt;
&lt;meta name="viewport" content="width=device-width, initial-scale=1" /&gt;
&lt;link rel="stylesheet" media="print" <strong>href="../../../static/css/print.css"</strong> /&gt;
&lt;link rel="stylesheet" media="screen" <strong>href="../../../static/css/screen.css"</strong> /&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id="wrap"&gt;
  &lt;div id="header"&gt;
    &lt;div id="java-school-ci"&gt;
      &lt;a href="#"&gt;&lt;img src="../../../static/images/ci.gif" alt="java-school" /&gt;&lt;/a&gt;
    &lt;/div&gt;
    &lt;div id="member"&gt;
      &lt;a href="#"&gt;&lt;button type="button"&gt;로그인&lt;/button&gt;&lt;/a&gt;
      &lt;a href="#"&gt;&lt;button type="button"&gt;회원가입&lt;/button&gt;&lt;/a&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;div id="main-menu"&gt;
    &lt;ul id="nav"&gt;
      &lt;li&gt;&lt;a href="#"&gt;Thymeleaf&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href="#"&gt;Spring Security&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href="#"&gt;Bulletin Board&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
  &lt;div id="i18n"&gt;
<strong>&lt;!--i18n --&gt;</strong>
&lt;a href="#"&gt;korean&lt;/a&gt;
&lt;a href="#"&gt;english&lt;/a&gt;
<strong>&lt;!--i18n --&gt;</strong>
  &lt;/div&gt;
  &lt;div id="container"&gt;
    &lt;div id="content"&gt;
      &lt;article&gt;
<strong>&lt;!--main text --&gt;</strong>
&lt;h1&gt;개발 준비&lt;/h1&gt;
  &lt;h3&gt;Java 설치&lt;/h3&gt;
  &lt;h3&gt;Maven 설치&lt;/h3&gt;
  &lt;h3&gt;Git 설치&lt;/h3&gt;
  &lt;h3&gt;Vim 설치&lt;/h3&gt;
&lt;h1&gt;1장 Thymeleaf&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href="#"&gt;1절&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href="#"&gt;2절&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;2장 Spring Security&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href="#"&gt;1절&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href="#"&gt;2절&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;3장 Bulletin Board&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href="#"&gt;1절&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href="#"&gt;2절&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
<strong>&lt;!--main text --&gt;</strong>
      &lt;/article&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;div id="sidebar"&gt;
<strong>&lt;!--submenu --&gt;</strong>
&lt;h1&gt;Home&lt;/h1&gt;
&lt;ul&gt;
  &lt;li class="sub-heading"&gt;예제 소스&lt;/li&gt;
  &lt;li&gt;&lt;a href="#"&gt;자바 웹 프로그래밍 2&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
<strong>&lt;!--submenu --&gt;</strong>
  &lt;/div&gt;
  &lt;div id="extra"&gt;
<strong>&lt;!--references --&gt;</strong>
&lt;ul&gt;
  &lt;li class="sub-heading"&gt;관련 자료&lt;/li&gt;
  &lt;li&gt;&lt;a href="#"&gt;Java&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href="#"&gt;Thymeleaf&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href="#"&gt;Spring&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href="#"&gt;Spring Security&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
<strong>&lt;!--references --&gt;</strong>
  &lt;/div&gt;
  &lt;div id="footer"&gt;
    &lt;ul&gt;
      &lt;li&gt;Copyright java-school All Rights Reserved.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>

<pre class="commandLine">mkdir -p src/main/webapp/static/images</pre>
<pre class="commandLine">mkdir -p src/main/webapp/static/js</pre>
<pre class="commandLine">mkdir -p src/main/webapp/static/css</pre>

<p>
http://java-school.net/css-layout/main-menu-styling<br />
</p>

<p>
https://jquery.com/download/<br />
</p>

<pre class="prettyprint">@media only screen {

}
@media only screen and (min-width: 768px) {

}
@media only print {

}
</pre>

<pre class="prettyprint">&lt;link rel="stylesheet" <strong>media="print"</strong> href="../../static/css/print.css"&gt;
&lt;link rel="stylesheet" <strong>media="screen"</strong> href="../../static/css/screen.css"&gt;
</pre>

<div class="filename" id="print.css">print.css</div>
<pre class="prettyprint">table {
  border-collapse: collapse;
}
img {
  border: 0;
}
form {
  margin: 0;
  padding: 0;
}
a:link {
  color: #2C80D0;
  text-decoration: none;
}
a:visited {
  color: #2C80D0;
  text-decoration: none;
}
a:active {
  color: #2C80D0;
  text-decoration: none;
}
a:hover {
  color: #2C80D0;
  text-decoration: underline;
}
article table {
  margin-top: 10px;
  margin-bottom: 10px;
  width: 100%;
}
article td {
  padding: 5px 6px 3px 6px;
  border: silver 1px solid;
}
article th {
  padding: 5px 6px 3px 6px;
  border: silver 1px solid;
  text-align: left;
  border: silver 1px solid;
}
article caption {
  margin: 0;
  padding: 0;
  font-weight: bold;
  text-align: left;
}
article &gt; h1 {
  margin: 0;
  padding: 0;
  font-size: 1.45em;
}
article &gt; h2 {
  margin-top: 15px;
  margin-bottom: 0;
  font-size: 1.2em;
}
article &gt; h3 {
  margin-top: 10px;
  margin-bottom: 0;
  font-size: 1.1em;
}
article &gt; h4 {
  margin-top: 5px;
  margin-bottom: 0;
  font-size: 1em;
}
article &gt; h5 {
  margin-top: 3px;
  margin-bottom: 0;
  font-size: 1em;
  color: #999;
}
article p {
  font-size: 0.93em;
}
article &gt; ul {
  margin: 0;
  padding: 0;
  list-style-type: none;
}
article &gt; ul &gt; li {
  padding: 0.2em 0 0.2em 0.5em;
  background: url('../images/circle.gif') no-repeat 0% 50%;
  font-size: 0.9em;
  line-height: 1.4;
}
#header {
  display: none;
}
#main-menu {
  display: none;
}
#i18n {
  display: none;
}
#sidebar {
  display: none;
}
#extra {
  display: none;
}
#footer {
  display: none;
}
</pre>

<div class="filename" id="screen.css">screen.css</div>
<pre class="prettyprint">table {
  border-collapse: collapse;
}
img {
  border: 0;
}
form {
  margin: 0;
  padding: 0;
}
a:link {
  color: #2C80D0;
  text-decoration: none;
}
a:visited {
  color: #2C80D0;
  text-decoration: none;
}
a:active {
  color: #2C80D0;
  text-decoration: none;
}
a:hover {
  color: #2C80D0;
  text-decoration: underline;
}
button {
  color: #646464;
  font-size: 12px;
}
article {
  margin-top: 10px;
}
article table {
  margin-top: 10px;
  margin-bottom: 10px;
  width: 100%;
}
article td {
  padding: 5px 6px 3px 6px;
  border: silver 1px solid;
}
article th {
  padding: 5px 6px 3px 6px;
  border: silver 1px solid;
  text-align: left;
  border: silver 1px solid;
}
article caption {
  margin: 0;
  padding: 0;
  font-weight: bold;
  text-align: left;
}
article &gt; h1 {
  margin: 0;
  padding: 0;
  font-size: 1.45em;
}
article &gt; h2 {
  margin-top: 15px;
  margin-bottom: 0;
  font-size: 1.2em;
}
article &gt; h3 {
  margin-top: 10px;
  margin-bottom: 0;
  font-size: 1.1em;
}
article &gt; h4 {
  margin-top: 5px;
  margin-bottom: 0;
  font-size: 1em;
}
article &gt; h5 {
  margin-top: 3px;
  margin-bottom: 0;
  font-size: 1em;
  color: #999;
}
article img {
  width: 100%;
}
article p {
  font-size: 0.93em;
}
article &gt; ul {
  margin: 0;
  padding: 0;
  list-style-type: none;
}
article &gt; ul &gt; li {
  padding: 0.2em 0 0.2em 0.5em;
  background: url('../images/circle.gif') no-repeat 0% 50%;
  font-size: 0.9em;
  line-height: 1.4;
}
article &gt; ol {
  margin: 0 0 0 15px;
  padding: 0;
}
article &gt; ol &gt; li {
  padding: 0.2em 0 0.2em 0.5em;
  font-size: 0.9em;
  line-height: 1.4;
}
#wrap {
  margin: 7px auto;
  padding: 0;
  width: 1200px;
}
#header {
  width: 100%;
}
#java-school-ci {
  width: 117px;
  float: left;
  border: none;
}
#member {
  float: right;
  position: relative;
  right: 3px;
}
#main-menu {
  display: block;
  clear: both;
  height: 35px;
  font-family: Verdana, sans-serif;
  font-weight: bold;
  font-size: 12px;
  background: #92B91C;
  border: 2px solid #DAEAAA;
}
#main-menu &gt; ul {
  margin: 0;
  padding: 0;
  list-style-type: none;
  position: relative;
  top: 9px;
  left: 17px;
}
#main-menu &gt; ul &gt; li {
  float: left;
  padding: 0 17px 0 8px;
  background: url('../images/bull_circle.gif') no-repeat 0 50%;
}
#main-menu &gt; ul &gt; li &gt; a {
  text-decoration: none;
  color: #FFF;
}
#main-menu &gt; ul &gt; li &gt; a:hover {
  text-decoration: underline;
  background: none;
  color: #FFF;
}
#i18n {
  clear: both;
  display: block;
  padding: 3px;
  text-align: right;
  font-size: 14px;
  height: 23px;
}
#container {
  float: left;
  width: 100%;
  border-top: 1px solid #DAEAAA;
}
#content {
  margin-left: 180px;
  margin-right: 165px;
  padding-left: 9px;
  padding-right: 9px;
}
#sidebar {
  display: block;
  float: left;
  width: 173px;
  margin-left: -100%;
  margin-bottom: 20px;
  font-family: Verdana, sans-serif;
  font-size: 12px;
  position: relative;
  top: 11px;
}
#sidebar &gt; ul {
  border: 1px solid #DAEAAA;
}
#extra {
  display: block;
  float: left;
  width: 160px;
  margin-left: -160px;
  margin-bottom: 20px;
  font-family: Verdana, sans-serif;
  font-size: 12px;
  position: relative;
  top: 11px;
}
#extra &gt; ul {
  border: 1px solid #DAEAAA;
}
#sidebar &gt; h1 {
  margin: 0;
  padding: 14px;
  background: #92B91C;
  color: #FFF;
  font-size: 16px;
}
#sidebar &gt; ul {
  margin: 0;
  padding: 0;
  list-style-type: none;
}
#sidebar &gt; ul &gt; li.sub-heading {
  display: block;
  padding: 6px 10px 6px 10px;
  color: #64615D;
  background: #DAEAAA;
  text-decoration: none;
  font-weight: bold;
}
#sidebar &gt; ul &gt; li &gt; a:hover {
  background-color: #EDFEBA;
  color: #64615D;
}
#sidebar &gt; ul &gt; li &gt; a {
  display: block;
  color: #64615D;
  padding: 5px 3px 4px 17px;
  text-decoration: none;
  border-bottom: 1px solid #FFF;
  font-weight: normal;
  background: #FFF url('../images/circle.gif') no-repeat 5% 50%;
}
#extra &gt; ul {
  margin: 0;
  padding: 0;
  list-style-type: none;
}
#extra &gt; ul &gt; li.sub-heading {
  display: block;
  padding: 6px 10px 6px 10px;
  color: #64615D;
  background: #DAEAAA;
  text-decoration: none;
  font-weight: bold;
}
#extra &gt; ul &gt; li &gt; a:hover {
  background-color: #EDFEBA;
  color: #64615D;
}
#extra &gt; ul &gt; li &gt; a {
  display: block;
  color: #64615D;
  padding: 5px 3px 4px 17px;
  text-decoration: none;
  border-bottom: 1px solid #FFF;
  font-weight: normal;
  background: #FFF url('../images/circle.gif') no-repeat 5% 50%;
}
#footer {
  clear: both;
  width: 100%;
  height: 70px;
  font-size: 12px;
  color: #8d8d8d;
  border-top: 1px solid #DAEAAA;
  position: relative;
  top: 7px;
  padding-top: 5px;
}
#footer &gt; ul {
  margin: 0;
  padding: 0;
  list-style-type: none;
  text-align: center;
}
#footer &gt; ul &gt; li {
  margin: 0;
  padding: 0;
}
</pre>

<p>
<img src="../../../static/images/homepage-design.png" th:src="@{/static/images/homepage-design.png}" class="browser-output" alt="메인 페이지 디자인" />
</p>

</article>

<article id="thymeleaf-layout">

<h3>Thymeleaf Layout File</h3>

<div class="filename">layout/baseLayoutFile.html</div>
<pre class="prettyprint">&lt;!DOCTYPE html&gt;
&lt;html lang="ko" <strong>th:fragment="layout (title, metas, links, scripts, i18n, maintext, submenu, reference)"</strong> 
    <strong>xmlns:th="http://www.thymeleaf.org"</strong>&gt;
&lt;head&gt;
&lt;meta charset="UTF-8"&gt;
&lt;title <strong>th:replace="${title}"</strong>&gt;Title&lt;/title&gt;
&lt;meta name="viewport" content="width=device-width, initial-scale=1" /&gt;
<strong>&lt;th:block th:replace="${metas}" /&gt;</strong>
&lt;link rel="stylesheet" media="print" href="../../../static/css/print.css" <strong>th:href="@{/static/css/print.css}"</strong> /&gt;
&lt;link rel="stylesheet" media="screen" href="../../../static/css/screen.css" <strong>th:href="@{/static/css/screen.css}"</strong> /&gt;
<strong>&lt;th:block th:replace="${links}" /&gt;</strong>
&lt;script th:src="@{/static/js/jquery.js}"&gt;&lt;/script&gt;
<strong>&lt;th:block th:replace="${scripts}" /&gt;</strong>
&lt;/head&gt;
&lt;body&gt;
&lt;div id="wrap"&gt;
  &lt;div id="header"&gt;
    &lt;div id="java-school-ci"&gt;
      &lt;a href="#" <strong>th:href="@{'/'}"</strong>&gt;&lt;img src="../../../static/images/ci.gif" <strong>th:src="@{/static/images/ci.gif}"</strong> alt="java-school" /&gt;&lt;/a&gt;
    &lt;/div&gt;
    &lt;div id="member"&gt;
      &lt;a href="#"&gt;&lt;button type="button"&gt;로그인&lt;/button&gt;&lt;/a&gt;
      &lt;a href="#"&gt;&lt;button type="button"&gt;회원가입&lt;/button&gt;&lt;/a&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;div id="main-menu"&gt;
    &lt;ul id="nav"&gt;
      &lt;li&gt;&lt;a href="#" <strong>th:href="@{/thymeleaf}"</strong>&gt;Thymeleaf&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href="#" <strong>th:href="@{/spring-security}"</strong>&gt;Spring Security&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href="#" <strong>th:href="@{/board}"</strong>&gt;Bulletin Board&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
  &lt;div id="i18n" <strong>th:replace="${i18n}"</strong>&gt;
    &lt;a href="#"&gt;korean&lt;/a&gt;
    &lt;a href="#"&gt;english&lt;/a&gt;
  &lt;/div&gt;
  &lt;div id="container"&gt;		
    &lt;div id="content"&gt;
      &lt;article <strong>th:replace="${maintext}"</strong>&gt;
        &lt;h1&gt;개발 준비&lt;/h1&gt;
        &lt;h3&gt;Java 설치&lt;/h3&gt;
        &lt;h1&gt;1장 Thymeleaf&lt;/h1&gt;
        &lt;ul&gt;
          &lt;li&gt;&lt;a href="#"&gt;1절&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/article&gt;
    &lt;/div&gt;
  &lt;/div&gt;	
  &lt;div id="sidebar" <strong>th:replace="${submenu}"</strong>&gt;
    &lt;h1&gt;Home&lt;/h1&gt;
    &lt;ul&gt;
      &lt;li class="sub-heading"&gt;예제 소스&lt;/li&gt;
      &lt;li&gt;&lt;a href="#"&gt;자바 웹 프로그래밍 2&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
  &lt;div id="extra" <strong>th:replace="${reference}"</strong>&gt;
    &lt;ul&gt;
      &lt;li class="sub-heading"&gt;관련 자료&lt;/li&gt;
      &lt;li&gt;&lt;a href="#"&gt;Java&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
  &lt;div id="footer"&gt;
    &lt;ul&gt;
      &lt;li&gt;Copyright java-school All Rights Reserved.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>

<p>
<img src="../../../static/images/homepage-design2.png" th:src="@{/static/images/homepage-design2.png}" class="browser-output" alt="Thymeleaf layout file" />
</p>

<pre class="prettyprint no-border">&lt;link rel="stylesheet" media="print" href="../../../static/css/print.css" <strong>th:href="@{/static/css/print.css}"</strong> /&gt;</pre>

</article>

<article id="homepage-test">

<h2>Homepage Test</h2>

<h3>Controller</h3>

<pre class="commandLine">mkdir -p src/main/java/net/java_school/controller</pre>

<div class="filename">HomeController.java</div>
<pre class="prettyprint">package net.java_school.controller;

import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.GetMapping;

@Controller
public class HomeController {
  @GetMapping
  public String index() {
    return "index";
  }
}
</pre>

<p>
src/main/webapp/WEB-INF/templates/index.html<br />
</p>

<div class="filename" id="index-html">index.html</div>
<pre class="prettyprint">&lt;!DOCTYPE html&gt;
&lt;!--/* 1 title, 2 metas, 3 links, 4 scripts, 5 i18n, 6 maintext, 7 submenu, 8 reference */--&gt;
&lt;html th:replace="~{layout/baseLayoutFile :: layout (<strong>~{::title}</strong>, <strong>~{::meta}</strong>, ~{}, ~{}, ~{<strong>::div</strong>}, <strong>~{::section}</strong>, <strong>~{::aside}</strong>, ~{})}" xmlns:th="http://www.thymeleaf.org"&gt;
&lt;head&gt;
&lt;title th:replace="<strong>~{articles/toc :: title}</strong>"&gt;홈페이지&lt;/title&gt;
&lt;meta name="Keywords" th:replace="<strong>~{articles/toc :: meta[@name='Keywords']}</strong>" /&gt;
&lt;meta name="Description" th:replace="<strong>~{articles/toc :: meta[@name='Description']}</strong>" /&gt;
&lt;/head&gt;
&lt;body&gt;
<strong>&lt;div id="i18n"&gt;&lt;/div&gt;</strong>
&lt;section th:replace="<strong>~{articles/toc :: article}</strong>"&gt;&lt;/section&gt;
&lt;aside th:replace="<strong>~{home/menu :: index}</strong>"&gt;&lt;/aside&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>

<div class="filename">articles/toc.html</div>
<pre class="prettyprint">&lt;html xmlns:th="http://www.thymeleaf.org"&gt;
&lt;head&gt;
&lt;title&gt;목차&lt;/title&gt;
&lt;meta name="Keywords" content="목차" /&gt;
&lt;meta name="Description" content="목차" /&gt;
&lt;link rel="stylesheet" media="all" href="../../../static/css/screen.css" /&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;article&gt;
&lt;h1&gt;개발환경 준비&lt;/h1&gt;
&lt;h3&gt;Java 설치&lt;/h3&gt;
&lt;h3&gt;Maven 설치&lt;/h3&gt;
&lt;h3&gt;Git 설치&lt;/h3&gt;
&lt;h3&gt;Vim 설치&lt;/h3&gt;
&lt;h1&gt;1장 Thymeleaf&lt;/h1&gt;
&lt;h1&gt;2장 Spring Security&lt;/h1&gt;
&lt;h1&gt;3장 Bulletin Board&lt;/h1&gt;
&lt;/article&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>

<div class="filename">home/menu.html</div>
<pre class="prettyprint">&lt;html xmlns:th="http://www.thymeleaf.org"&gt;
&lt;head&gt;
&lt;link rel="stylesheet" media="all" href="../../../static/css/screen.css" /&gt;
&lt;style&gt;
#sidebar {
  margin-left: 0;
|
&lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div <strong>th:fragment="index"</strong> <strong>id="sidebar"</strong>&gt;
&lt;h1&gt;Home&lt;/h1&gt;
&lt;ul&gt;
  &lt;li class="sub-heading"&gt;예제 소스&lt;/li&gt;
  &lt;li&gt;&lt;a href="https://github.com/kimjonghoon/java-web-programming-2-samples"&gt;자바 웹 프로그래밍 2&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>

<pre class="prettyprint">&lt;style&gt;
#sidebar {
  margin-left: 0;
|
&lt;/style&gt;
</pre>

<pre class="commandLine">mvn jetty:run</pre>

<p>
<img src="../../../static/images/homepage-test.png" th:src="@{/static/images/homepage-test.png}" class="browser-output" alt="homepage test by jetty plugin" />
</p>

<div class="filename">home/menu.html</div>
<pre class="prettyprint">&lt;html xmlns:th="http://www.thymeleaf.org"&gt;
&lt;head&gt;
&lt;link rel="stylesheet" media="all" href="../../../static/css/screen.css" /&gt;
&lt;/head&gt;
&lt;body&gt;
<strong>&lt;th:block</strong> th:fragment="index" <strong>id="sidebar"</strong>&gt;
&lt;h1&gt;Home&lt;/h1&gt;
&lt;ul&gt;
  &lt;li class="sub-heading"&gt;예제 소스&lt;/li&gt;
  &lt;li&gt;&lt;a href="https://github.com/kimjonghoon/java-web-programming-2-samples"&gt;자바 웹 프로그래밍 2&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
<strong>&lt;/th:block&gt;</strong>
&lt;/body&gt;
&lt;/html&gt;
</pre>

<pre class="prettyprint">&lt;div id="sidebar" <strong>th:insert="${submenu}"</strong>&gt;
&lt;h1&gt;Home&lt;/h1&gt;
&lt;ul&gt;
  &lt;li class="sub-heading"&gt;예제 소스&lt;/li&gt;
  &lt;li&gt;&lt;a href="#"&gt;자바 웹 프로그래밍 2&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
</pre>

<pre class="prettyprint">&lt;h1&gt;Home&lt;/h1&gt;
&lt;ul&gt;
  &lt;li class="sub-heading"&gt;예제 소스&lt;/li&gt;
  &lt;li&gt;&lt;a href="https://github.com/kimjonghoon/java-web-programming-2-samples"&gt;자바 웹 프로그래밍 2&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</pre>

<div class="filename" id="index-html2">index.html</div>
<pre class="prettyprint">&lt;!DOCTYPE html&gt;
&lt;!--/* 1 title, 2 metas, 3 links, 4 scripts, 5 i18n, 6 maintext, 7 submenu, 8 reference */--&gt;
&lt;html th:replace="~{layout/baseLayoutFile :: layout (~{::title}, ~{::meta}, ~{}, ~{}, ~{::div}, ~{::section}, ~{::aside}, ~{})}" xmlns:th="http://www.thymeleaf.org"&gt;
&lt;head&gt;
&lt;title th:replace="~{articles/toc :: title}"&gt;홈페이지&lt;/title&gt;
&lt;meta name="Keywords" th:replace="~{articles/toc :: meta[@name='Keywords']}" /&gt;
&lt;meta name="Description" th:replace="~{articles/toc :: meta[@name='Description']}" /&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id="i18n"&gt;&lt;/div&gt;
&lt;section th:replace="<strong>~{home/menu :: index}</strong>"&gt;&lt;/section&gt;
&lt;aside th:replace="~{home/menu :: index}"&gt;&lt;/aside&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>

<p>
<img src="../../../static/images/homepage-test2.png" th:src="@{/static/images/homepage-test2.png}" class="browser-output" alt="서브 메뉴를 메인 텍스트에 보이기" />
</p>

<pre class="prettyprint">&lt;div id="container"&gt;		
  &lt;div id="content"&gt;
<strong>&lt;h1&gt;Home&lt;/h1&gt;</strong>
<strong>&lt;ul&gt;</strong>
  <strong>&lt;li class="sub-heading"&gt;예제 소스&lt;/li&gt;</strong>
  <strong>&lt;li&gt;&lt;a href="https://github.com/kimjonghoon/java-web-programming-2-samples"&gt;자바 웹 프로그래밍 2&lt;/a&gt;&lt;/li&gt;</strong>
<strong>&lt;/ul&gt;</strong>
  &lt;/div&gt;
&lt;/div&gt;
</pre>

</article>

<article id="deploy-to-tomcat">

<h2>Deploy app to Tomcat</h2>

<div class="filename" id="ROOT.xml">ROOT.xml</div>
<pre class="prettyprint">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;Context
  docBase="C:/jwp2samples/src/main/webapp"
  reloadable="true"&gt;
&lt;/Context&gt;
</pre>

<pre class="prettyprint">&lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;
&lt;version&gt;3.1.0&lt;/version&gt;
<strong>&lt;configuration&gt;</strong>
  <strong>&lt;filesets&gt;</strong>
    <strong>&lt;fileset&gt;</strong>
      <strong>&lt;directory&gt;src/main/webapp/WEB-INF/classes&lt;/directory&gt;</strong>
    <strong>&lt;/fileset&gt;</strong>
    <strong>&lt;fileset&gt;</strong>
      <strong>&lt;directory&gt;src/main/webapp/WEB-INF/lib&lt;/directory&gt;</strong>
    <strong>&lt;/fileset&gt;</strong>
  <strong>&lt;/filesets&gt;</strong>
<strong>&lt;/configuration&gt;</strong>
</pre>

<pre class="prettyprint">@Bean
public SpringResourceTemplateResolver templateResolver() {
 SpringResourceTemplateResolver templateResolver = new SpringResourceTemplateResolver();
 templateResolver.setApplicationContext(this.applicationContext);
 templateResolver.setPrefix("/WEB-INF/templates/");
 templateResolver.setSuffix(".html");
 templateResolver.setTemplateMode(TemplateMode.HTML);
 templateResolver.setCacheable(<strong>false</strong>);
 return templateResolver;
}
</pre>

</article>

<article id="internationalization">

<h2>i18n</h2>

<ul>
	<li>articles/toc.html</li>
	<li>home/menu.html</li>
	<li>index.html</li>
</ul>

<ul>
	<li>articles/toc_en.html</li>
	<li>home/menu_en.html</li>
	<li>en/index.html</li>
</ul>

<div class="filename">articles/toc_en.html</div>
<pre class="prettyprint">&lt;html xmlns:th="http://www.thymeleaf.org"&gt;
&lt;head&gt;
&lt;title&gt;TOC&lt;/title&gt;
&lt;meta name="Keywords" content="TOC" /&gt;
&lt;meta name="Description" content="TOC" /&gt;
&lt;link rel="stylesheet" media="all" href="../../../static/css/screen.css" /&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;article&gt;
&lt;h1&gt;Setting up a Java development environment&lt;/h1&gt;
&lt;h3&gt;Java&lt;/h3&gt;
&lt;h3&gt;Maven&lt;/h3&gt;
&lt;h3&gt;Git&lt;/h3&gt;
&lt;h3&gt;Vim&lt;/h3&gt;
&lt;h1&gt;Chapter 1. Thymeleaf&lt;/h1&gt;
&lt;h1&gt;Chapter 2. Spring Security&lt;/h1&gt;
&lt;h1&gt;Chapter 3. Bulletin Board&lt;/h1&gt;
&lt;/article&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>

<div class="filename">home/menu_en.html</div>
<pre class="prettyprint">&lt;html xmlns:th="http://www.thymeleaf.org"&gt;
&lt;head&gt;
&lt;link rel="stylesheet" media="all" href="../../../static/css/screen.css" /&gt;
&lt;style&gt;
#sidebar {
  margin-left: 0;
}
&lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;th:block th:fragment="index"&gt;
&lt;h1&gt;Home&lt;/h1&gt;
&lt;ul&gt;
  &lt;li class="sub-heading"&gt;Samples&lt;/li&gt;
  &lt;li&gt;&lt;a href="https://github.com/kimjonghoon/java-web-programming-2-samples"&gt;Java Web Programming 2&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/th:block&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>

<div class="filename">en/index.html</div>
<pre class="prettyprint">&lt;!DOCTYPE html&gt;
&lt;!--*/ 1 title, 2 metas, 3 links, 4 scripts, 5 i18n, 6 maintext, 7 submenu, 8 reference */--&gt;
&lt;html th:replace="~{layout/baseLayoutFile :: layout (<strong>~{::title}</strong>, <strong>~{::meta}</strong>, ~{}, ~{}, <strong>~{::div}</strong>, <strong>~{::section}</strong>, <strong>~{::aside}</strong>, ~{})}" xmlns:th="http://www.thymeleaf.org"&gt;
&lt;head&gt;
&lt;title th:replace="<strong>~{articles/toc_en :: title}</strong>"&gt;Homepage&lt;/title&gt;
&lt;meta name="Keywords" th:replace="<strong>~{articles/toc_en :: meta[@name='Keywords']}</strong>" /&gt;
&lt;meta name="Description" th:replace="<strong>~{articles/toc_en :: meta[@name='Description']}</strong>" /&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id="i18n"&gt;&lt;/div&gt;
&lt;section th:replace="<strong>~{articles/toc_en :: article}</strong>"&gt;&lt;/section&gt;
&lt;aside th:replace="<strong>~{home/menu_en :: index}</strong>"&gt;&lt;/aside&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>

<div class="filename" id="EnHomeController.java">EnHomeController.java</div>
<pre class="prettyprint">package net.java_school.controller;

import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestMapping;

@Controller
@RequestMapping("en")
public class EnHomeController {
  @GetMapping
  public String index() {
    return "en/index";
  }
}
</pre>

<div class="filename" id="index.html2">index.html</div>
<pre class="prettyprint">&lt;!DOCTYPE html&gt;
&lt;!--*/1 title, 2 metas, 3 links, 4 scripts, 5 i18n, 6 maintext, 7 submenu, 8 reference */--&gt;
&lt;html th:replace="~{layout/baseLayoutFile :: layout (~{::title}, ~{::meta}, ~{}, ~{}, <strong>~{::div}</strong>, ~{::section}, ~{::aside}, ~{})}" xmlns:th="http://www.thymeleaf.org"&gt;
&lt;head&gt;
&lt;title th:replace="~{articles/toc :: title}"&gt;홈페이지&lt;/title&gt;
&lt;meta name="Keywords" th:replace="~{articles/toc :: meta[@name='Keywords']}" /&gt;
&lt;meta name="Description" th:replace="~{articles/toc :: meta[@name='Description']}" /&gt;
&lt;/head&gt;
&lt;body&gt;
<strong>&lt;div id="i18n"&gt;</strong>
  <strong>&lt;a th:href="@{/en}"&gt;english&lt;/a&gt;</strong>
<strong>&lt;/div&gt;</strong>
&lt;section th:replace="~{articles/toc :: article}"&gt;&lt;/section&gt;
&lt;aside th:replace="~{home/menu :: index}"&gt;&lt;/aside&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>

<pre class="prettyprint">&lt;html lang="ko"&gt;</pre>

<pre class="prettyprint">@Controller
@RequestMapping("en")
public class EnHomeController {
  <strong>static final String lang = "en";</strong>

  @GetMapping
  public String index(<strong>Model model</strong>) {
    <strong>model.addAttribute("lang",lang);</strong>
    return "en/index";
  }
}
</pre>

<pre class="prettyprint">&lt;html th:lang="${lang} ?: 'ko'" th:fragment="layout (title, metas, links, scripts, <strong>mainmenu</strong>, i18n, maintext, submenu, reference)" xmlns:th="http://www.thymeleaf.org"&gt;
</pre>

<pre class="prettyprint">&lt;div id="main-menu" <strong>th:replace="${mainmenu}"</strong>&gt;
  &lt;ul id="nav"&gt;
    &lt;li&gt;&lt;a href="#"&gt;Thymeleaf&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href="#"&gt;Spring Security&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href="#"&gt;Bulletin Board&lt;/a&gt;&lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;
</pre>

<div class="filename">commons/mainmenu.html</div>
<pre class="prettyprint">&lt;html xmlns:th="http://www.thymeleaf.org"&gt;
&lt;head&gt;
  &lt;link rel="stylesheet" media="all" href="../../../static/css/screen.css" /&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id="main-menu" th:fragment="mainmenu"&gt;
  &lt;ul id="nav"&gt;
    &lt;li&gt;&lt;a th:href="@{/thymeleaf}"&gt;Thymeleaf&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a th:href="@{/spring-security}"&gt;Spring Security&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a th:href="@{/board}"&gt;Bulletin Board&lt;/a&gt;&lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>

<div class="filename">commons/mainmenu_en.html</div>
<pre class="prettyprint">&lt;html xmlns:th="http://www.thymeleaf.org"&gt;
&lt;head&gt;
  &lt;link rel="stylesheet" media="all" href="../../../static/css/screen.css" /&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id="main-menu" th:fragment="mainmenu"&gt;
  &lt;ul id="nav"&gt;
    &lt;li&gt;&lt;a th:href="@{<strong>/en</strong>/thymeleaf}"&gt;Thymeleaf&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a th:href="@{<strong>/en</strong>/spring-security}"&gt;Spring Security&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a th:href="@{<strong>/en</strong>/board}"&gt;Bulletin Board&lt;/a&gt;&lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>

<div class="filename" id="index.html3">index.html</div>
<pre class="prettyprint">&lt;!DOCTYPE html&gt;
&lt;html th:replace="~{layout/baseLayoutFile :: layout (~{::title}, ~{::meta}, ~{}, ~{}, ~{<strong>::nav</strong>}, ~{::div}, ~{::section}, ~{::aside}, ~{})}" xmlns:th="http://www.thymeleaf.org"&gt;
&lt;head&gt;
&lt;title th:replace="~{articles/toc :: title}"&gt;홈페이지&lt;/title&gt;
&lt;meta name="Keywords" th:replace="~{articles/toc :: meta[@name='Keywords']}" /&gt;
&lt;meta name="Description" th:replace="~{articles/toc :: meta[@name='Description']}" /&gt;
&lt;/head&gt;
&lt;body&gt;
<strong>&lt;nav th:replace="~{commons/mainmenu :: mainmenu}"&gt;&lt;/nav&gt;</strong>
&lt;div id="i18n"&gt;
  &lt;a th:href="@{/en}"&gt;english&lt;/a&gt;
&lt;/div&gt;
&lt;section th:replace="~{articles/toc :: article}"&gt;&lt;/section&gt;
&lt;aside th:replace="~{home/menu :: index}"&gt;&lt;/aside&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>

<div class="filename">en/index.html</div>
<pre class="prettyprint">&lt;!DOCTYPE html&gt;
&lt;!--*/ 1 title, 2 metas, 3 links, 4 scripts, 5 mainmenu, 6 i18n, 7 maintext, 8 submenu, 9 reference */--&gt;
&lt;html th:replace="~{layout/baseLayoutFile :: layout (~{::title}, ~{::meta}, ~{}, ~{}, ~{<strong>::nav</strong>}, ~{::div}, ~{::section}, ~{::aside}, ~{})}" xmlns:th="http://www.thymeleaf.org"&gt;
&lt;head&gt;
&lt;title th:replace="~{articles/toc :: title}"&gt;Homepage&lt;/title&gt;
&lt;meta name="Keywords" th:replace="~{articles/toc_en :: meta[@name='Keywords']}" /&gt;
&lt;meta name="Description" th:replace="~{articles/toc_en :: meta[@name='Description']}" /&gt;
&lt;/head&gt;
&lt;body&gt;
<strong>&lt;nav th:replace="~{commons/mainmenu_en :: mainmenu}"&gt;&lt;/nav&gt;</strong>
&lt;div id="i18n"&gt;&lt;/div&gt;
&lt;section th:replace="~{articles/toc_en :: article}"&gt;&lt;/section&gt;
&lt;aside th:replace="~{home/menu_en :: index}"&gt;&lt;/aside&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>

<div class="filename" id="ko.css">src/main/webapp/static/css/ko.css</div>
<pre class="prettyprint">@CHARSET "UTF-8";
@import url(http://fonts.googleapis.com/earlyaccess/notosanskr.css);
html, body {
  margin: 0;
  padding: 0;
  background-color: #FFF;
  font-family: "Noto Sans KR", "Liberation Sans", Helvetica, "돋움", dotum, sans-serif;
  font-size: 1em;
}
pre {
  margin: 0 0 0.7em 0;
  font-family: Consolas, "Liberation Mono", Courier, "Noto Sans KR", dotum, monospace;
}
td, th {
  color: #646464;
  font-size: 13px;
  font-family: "돋움", dotum, sans-serif;
}
input, select, textarea {
  color: #646464;
  font-size: 12px;
  font-family: "돋움", dotum, sans-serif;
}
button {
  color: #646464;
  font-size: 12px;
  font-family: "돋움", dotum, sans-serif;
} 
</pre>

<div class="filename" id="en.css">src/main/webapp/static/css/en.css</div>
<pre class="prettyprint">@CHARSET "UTF-8";
html, body {
  margin: 0;
  padding: 0;
  background-color: #FFF;
  font-family: "Liberation Sans", Helvetica, sans-serif;
  font-size: 1em;
}
pre {
  margin: 0 0 0.7em 0;
  font-family: Consolas, "Liberation Mono", Courier, monospace;
}
th, td {
  color: #646464;
  font-size: 13px;
  font-family: Roboto, sans-serif;
}
input, select, textarea {
  color: #646464;
  font-size: 12px;
  font-family: Roboto, sans-serif;
}
button {
  color: #646464;
  font-size: 12px;
  font-family: Roboto, sans-serif;
}
</pre>

<div class="filename">index.html</div>
<pre class="prettyprint">&lt;!DOCTYPE html&gt;
&lt;!--*/ 1 title, 2 metas, 3 links, 4 scripts, 5 mainmenu, 6 i18n, 7 maintext, 8 submenu, 9 reference */--&gt;
&lt;html th:replace="~{layout/baseLayoutFile :: layout (~{::title}, ~{::meta}, ~{<strong>::link</strong>}, ~{}, ~{::nav}, ~{::div}, ~{::section}, ~{::aside}, ~{})}" xmlns:th="http://www.thymeleaf.org"&gt;
&lt;head&gt;
&lt;title th:replace="~{articles/toc :: title}"&gt;홈페이지&lt;/title&gt;
&lt;meta name="Keywords" th:replace="~{articles/toc :: meta[@name='Keywords']}" /&gt;
&lt;meta name="Description" th:replace="~{articles/toc :: meta[@name='Description']}" /&gt;
<strong>&lt;link rel="stylesheet" media="all" th:href="@{/static/css/ko.css}" /&gt;</strong>
&lt;/head&gt;
&lt;body&gt;
&lt;nav th:replace="~{commons/mainmenu :: mainmenu}"&gt;&lt;/nav&gt;
&lt;div id="i18n"&gt;
  &lt;a th:href="@{/en}"&gt;english&lt;/a&gt; 
&lt;/div&gt;
&lt;section th:replace="~{articles/toc :: index}"&gt;&lt;/section&gt;
&lt;aside th:replace="~{home/menu :: index}"&gt;&lt;/aside&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>

<div class="filename">en/index.html</div>
<pre class="prettyprint">&lt;!DOCTYPE html&gt;
&lt;!--*/ 1 title, 2 metas, 3 links, 4 scripts, 5 mainmenu, 6 i18n, 7 maintext, 8 submenu, 9 reference */--&gt;
&lt;html th:replace="~{layout/baseLayoutFile :: layout (~{::title}, ~{::meta}, ~{<strong>::link</strong>}, ~{}, ~{::nav}, ~{::div}, ~{::section}, ~{::aside}, ~{})}" xmlns:th="http://www.thymeleaf.org"&gt;
&lt;head&gt;
&lt;title th:replace="~{articles/toc :: title}"&gt;Homepage&lt;/title&gt;
&lt;meta name="Keywords" th:replace="~{articles/toc_en :: meta[@name='Keywords']}" /&gt;
&lt;meta name="Description" th:replace="~{articles/toc_en :: meta[@name='Description']}" /&gt;
<strong>&lt;link rel="stylesheet" media="all" th:href="@{/static/css/en.css}" /&gt;</strong>
&lt;/head&gt;
&lt;body&gt;
&lt;nav th:replace="~{commons/mainmenu_en :: mainmenu}"&gt;&lt;/nav&gt;
&lt;div id="i18n"&gt;&lt;/div&gt;
&lt;section th:replace="~{articles/toc_en :: article}"&gt;&lt;/section&gt;
&lt;aside th:replace="~{home/menu_en :: index}"&gt;&lt;/aside&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>

<p>
[Homepage]<br />
<img src="../../../static/images/ko.png" th:src="@{/static/images/ko.png}" class="browser-output" alt="korean homepage" />
</p>

<div class="filename">[source code]</div>
<pre class="prettyprint">&lt;!DOCTYPE html&gt;
&lt;html <strong>lang="ko"</strong>&gt;
&lt;head&gt;
&lt;meta charset="UTF-8"&gt;
&lt;title&gt;목차&lt;/title&gt;
&lt;meta name="viewport" content="width=device-width, initial-scale=1" /&gt;
&lt;meta name="Keywords" content="자바 웹 프로그래밍 2 목차" /&gt;&lt;meta name="Description" content="자바 웹 프로그래밍 2 목차" /&gt;
&lt;link rel="stylesheet" media="print" href="/static/css/print.css" /&gt;
&lt;link rel="stylesheet" media="screen" href="/static/css/screen.css" /&gt;
<strong>&lt;link rel="stylesheet" media="all" href="/static/css/ko.css" /&gt;</strong>
&lt;/head&gt;
&lt;body&gt;
&lt;div id="wrap"&gt;
  &lt;div id="header"&gt;
    &lt;div id="java-school-ci"&gt;
      &lt;a href="/"&gt;&lt;img src="/static/images/ci.gif" alt="java-school" /&gt;&lt;/a&gt;
    &lt;/div&gt;
    &lt;div id="member"&gt;
      &lt;a href="#"&gt;&lt;button type="button"&gt;로그인&lt;/button&gt;&lt;/a&gt;
      &lt;a href="#"&gt;&lt;button type="button"&gt;회원가입&lt;/button&gt;&lt;/a&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;div id="main-menu"&gt;
  &lt;ul id="nav"&gt;
    &lt;li&gt;&lt;a href="/thymeleaf"&gt;Thymeleaf&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href="/spring-security"&gt;Spring Security&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href="/board"&gt;Bulletin Board&lt;/a&gt;&lt;/li&gt;
  &lt;/ul&gt;
  &lt;/div&gt;
  &lt;div id="i18n"&gt;
  &lt;a href="/en"&gt;english&lt;/a&gt; 
  &lt;/div&gt;
  ..
  .
</pre>

<p>
[English homepage]<br />
<img src="../../../static/images/en.png" th:src="@{/static/images/en.png}" class="browser-output" alt="english homepage" />
</p>

<div class="filename">[source code]</div>
<pre class="prettyprint">&lt;!DOCTYPE html&gt;
&lt;html <strong>lang="en"</strong>&gt;
&lt;head&gt;
&lt;meta charset="UTF-8"&gt;
&lt;title&gt;목차&lt;/title&gt;
&lt;meta name="viewport" content="width=device-width, initial-scale=1" /&gt;
&lt;meta name="Keywords" content="TOC" /&gt;&lt;meta name="Description" content="TOC" /&gt;
&lt;link rel="stylesheet" media="print" href="/static/css/print.css" /&gt;
&lt;link rel="stylesheet" media="screen" href="/static/css/screen.css" /&gt;
<strong>&lt;link rel="stylesheet" media="all" href="/static/css/en.css" /&gt;</strong>
&lt;/head&gt;
&lt;body&gt;
&lt;div id="wrap"&gt;
  &lt;div id="header"&gt;
    &lt;div id="java-school-ci"&gt;
      &lt;a href="/"&gt;&lt;img src="/static/images/ci.gif" alt="java-school" /&gt;&lt;/a&gt;
    &lt;/div&gt;
    &lt;div id="member"&gt;
      &lt;a href="#"&gt;&lt;button type="button"&gt;로그인&lt;/button&gt;&lt;/a&gt;
      &lt;a href="#"&gt;&lt;button type="button"&gt;회원가입&lt;/button&gt;&lt;/a&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;div id="main-menu"&gt;
  &lt;ul id="nav"&gt;
    &lt;li&gt;&lt;a href="/en/thymeleaf"&gt;Thymeleaf&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href="/en/spring-security"&gt;Spring Security&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href="/en/board"&gt;Bulletin Board&lt;/a&gt;&lt;/li&gt;
  &lt;/ul&gt;
  &lt;/div&gt;
  &lt;div id="i18n"&gt;&lt;/div&gt;
  ..
  .
</pre>

<div class="filename">index.html</div>
<pre class="prettyprint">&lt;!DOCTYPE html&gt;
&lt;!--*/ 1 title, 2 metas, 3 links, 4 scripts, 5 mainmenu, 6 i18n, 7 maintext, 8 submenu, 9 reference */--&gt;
&lt;html th:replace="~{layout/baseLayoutFile :: layout (~{::title}, ~{::meta}, ~{::link}, ~{}, ~{::nav}, ~{::div}, ~{::section}, ~{::aside}, ~{})}" xmlns:th="http://www.thymeleaf.org"&gt;
&lt;head&gt;
&lt;title th:replace="<strong>${#locale.language == 'ko'} ?</strong> ~{articles/toc :: title} : <strong>~{articles/toc_en :: title}</strong>"&gt;홈페이지&lt;/title&gt;
&lt;meta name="Keywords" th:replace="<strong>${#locale.language == 'ko'} ?</strong> ~{articles/toc :: meta[@name='Keywords']} : <strong>~{articles/toc_en :: meta[@name='Keywords']}"</strong> /&gt;
&lt;meta name="Description" th:replace="<strong>${#locale.language == 'ko'} ?</strong> ~{articles/toc :: meta[@name='Description']} : <strong>~{articles/toc_en :: meta[@name='Description']}"</strong> /&gt;
&lt;link rel="stylesheet" media="all" th:href="<strong>${#locale.language == 'ko'} ?</strong> @{/static/css/ko.css} : <strong>@{/static/css/en.css}</strong>" /&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;nav th:replace="~{commons/mainmenu :: mainmenu}"&gt;&lt;/nav&gt;
&lt;div id="i18n"&gt;
  <strong>&lt;a th:href="@{/ko}"&gt;korean&lt;/a&gt;</strong>
  &lt;a th:href="@{/en}"&gt;english&lt;/a&gt; 
&lt;/div&gt;
&lt;section th:replace="<strong>${#locale.language == 'ko'} ?</strong> ~{articles/toc :: article} : <strong>~{articles/toc_en :: article}</strong>"&gt;&lt;/section&gt;
&lt;aside th:replace="<strong>${#locale.language == 'ko'} ?</strong> ~{home/menu :: index} : <strong>~{home/menu_en :: index}</strong>"&gt;&lt;/aside&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>

<div class="filename">ko/index.html</div>
<pre class="prettyprint">&lt;!DOCTYPE html&gt;
&lt;!--*/ 1 title, 2 metas, 3 links, 4 scripts, 5 mainmenu, 6 i18n, 7 maintext, 8 submenu, 9 reference */--&gt;
&lt;html th:replace="~{layout/baseLayoutFile :: layout (~{::title}, ~{::meta}, ~{::link}, ~{}, ~{::nav}, ~{::div}, ~{::section}, ~{::aside}, ~{})}" xmlns:th="http://www.thymeleaf.org"&gt;
&lt;head&gt;
&lt;title th:replace="~{articles/toc :: title}"&gt;홈페이지&lt;/title&gt;
&lt;meta name="Keywords" th:replace="~{articles/toc :: meta[@name='Keywords']}" /&gt;
&lt;meta name="Description" th:replace="~{articles/toc :: meta[@name='Description']}" /&gt;
&lt;link rel="stylesheet" media="all" th:href="@{/static/css/ko.css}" /&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;nav th:replace="~{commons/<strong>mainmenu_ko</strong> :: mainmenu}"&gt;&lt;/nav&gt;
&lt;div id="i18n"&gt;
 <strong>&lt;a th:href="@{/en}"&gt;english&lt;/a&gt;</strong>
&lt;/div&gt;
&lt;section th:replace="~{articles/toc :: article}"&gt;&lt;/section&gt;
&lt;aside th:replace="~{home/<strong>menu</strong> :: index}"&gt;&lt;/aside&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>

<div class="filename">commons/mainmenu_ko.html</div>
<pre class="prettyprint">&lt;html xmlns:th="http://www.thymeleaf.org"&gt;
&lt;head&gt;
  &lt;link rel="stylesheet" media="all" href="../../../static/css/screen.css" /&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id="main-menu" th:fragment="mainmenu"&gt;
  &lt;ul id="nav"&gt;
    &lt;li&gt;&lt;a th:href="@{<strong>/ko/thymeleaf</strong>}"&gt;Thymeleaf&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a th:href="@{<strong>/ko/spring-security</strong>}"&gt;Spring Security&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a th:href="@{<strong>/ko/board</strong>}"&gt;Bulletin Board&lt;/a&gt;&lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>

<div class="filename">en/index.html</div>
<pre class="prettyprint">&lt;!DOCTYPE html&gt;
&lt;!--*/ 1 title, 2 metas, 3 links, 4 scripts, 5 mainmenu, 6 i18n, 7 maintext, 8 submenu, 9 reference */--&gt;
&lt;html th:replace="~{layout/baseLayoutFile :: layout (~{::title}, ~{::meta}, ~{::link}, ~{}, ~{::nav}, ~{::div}, ~{::section}, ~{::aside}, ~{})}" xmlns:th="http://www.thymeleaf.org"&gt;
&lt;head&gt;
&lt;title th:replace="~{articles/toc_en :: title}"&gt;Homepage&lt;/title&gt;
&lt;meta name="Keywords" th:replace="~{articles/toc_en :: meta[@name='Keywords']}" /&gt;
&lt;meta name="Description" th:replace="~{articles/toc_en :: meta[@name='Description']}" /&gt;
&lt;link rel="stylesheet" media="all" th:href="@{/static/css/en.css}" /&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;nav th:replace="~{commons/<strong>mainmenu_en</strong> :: mainmenu}"&gt;&lt;/nav&gt;
&lt;div id="i18n"&gt;
 <strong>&lt;a th:href="@{/ko}"&gt;korean&lt;/a&gt;</strong>
&lt;/div&gt;
&lt;section th:replace="~{articles/toc_en :: article}"&gt;&lt;/section&gt;
&lt;aside th:replace="~{home/<strong>menu_en</strong> :: index}"&gt;&lt;/aside&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>

<pre class="prettyprint">th:lang="${lang} ?: 'ko'"</pre>

<pre class="prettyprint">th:lang="${lang} ?: (${#locale.language == 'ko'} ? 'ko' : 'en')"</pre>

<div class="filename">KoHomeController.java</div>
<pre class="prettyprint">package net.java_school.controller;

import org.springframework.ui.Model;

import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestMapping;

@Controller
@RequestMapping(<strong>"ko"</strong>)
public class KoHomeController {
  static final String lang = <strong>"ko"</strong>;

  @GetMapping
  public String index(Model model) {
    model.addAttribute("lang", lang);
    return <strong>"ko/index"</strong>;
  }
}
</pre>

<div class="filename">[source code]</div>
<pre class="prettyprint">&lt;!DOCTYPE html&gt;
&lt;html <strong>lang="ko"</strong>&gt;
&lt;head&gt;
&lt;meta charset="UTF-8"&gt;
&lt;title&gt;목차&lt;/title&gt;
&lt;meta name="viewport" content="width=device-width, initial-scale=1" /&gt;
&lt;meta name="Keywords" content="자바 웹 프로그래밍 2 목차" /&gt;&lt;meta name="Description" content="자바 웹 프로그래밍 2 목차" /&gt;
&lt;link rel="stylesheet" media="print" href="/static/css/print.css" /&gt;
&lt;link rel="stylesheet" media="screen" href="/static/css/screen.css" /&gt;
&lt;link rel="stylesheet" media="all" href="/static/css/ko.css" /&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id="wrap"&gt;
  &lt;div id="header"&gt;
    &lt;div id="java-school-ci"&gt;
      &lt;a href="/"&gt;&lt;img src="/static/images/ci.gif" alt="java-school" /&gt;&lt;/a&gt;
    &lt;/div&gt;
    &lt;div id="member"&gt;
      &lt;a href="#"&gt;&lt;button type="button"&gt;로그인&lt;/button&gt;&lt;/a&gt;
      &lt;a href="#"&gt;&lt;button type="button"&gt;회원가입&lt;/button&gt;&lt;/a&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;div id="main-menu"&gt;
  &lt;ul id="nav"&gt;
    &lt;li&gt;&lt;a href="/thymeleaf"&gt;Thymeleaf&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href="/spring-security"&gt;Spring Security&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href="/board"&gt;Bulletin Board&lt;/a&gt;&lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;
  &lt;div id="i18n"&gt;
  &lt;a href="/ko"&gt;korean&lt;/a&gt; 
  &lt;a href="/en"&gt;english&lt;/a&gt; 
&lt;/div&gt;
  &lt;div id="container"&gt;		
    &lt;div id="content"&gt;
      &lt;article&gt;
&lt;h1&gt;개발환경 준비&lt;/h1&gt;
&lt;h3&gt;Java 설치&lt;/h3&gt;
&lt;h3&gt;Maven 설치&lt;/h3&gt;
&lt;h3&gt;Git 설치&lt;/h3&gt;
&lt;h3&gt;Vim 설치&lt;/h3&gt;
&lt;h1&gt;1장 Thymeleaf&lt;/h1&gt;
&lt;h1&gt;2장 Spring Security&lt;/h1&gt;
&lt;h1&gt;3장 Bulletin Board&lt;/h1&gt;
&lt;/article&gt;
    &lt;/div&gt;
  &lt;/div&gt;	
  &lt;div id="sidebar"&gt;
&lt;h1&gt;Home&lt;/h1&gt;
&lt;ul&gt;
  &lt;li class="sub-heading"&gt;예제 소스&lt;/li&gt;
  &lt;li&gt;&lt;a href="https://github.com/kimjonghoon/java-web-programming-2-samples"&gt;자바 웹 프로그래밍 2&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
  &lt;div id="footer"&gt;
    &lt;ul&gt;
      &lt;li&gt;Copyright java-school All Rights Reserved.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>

<div class="filename">ko/index.html source code</div>
<pre class="prettyprint">&lt;!DOCTYPE html&gt;
&lt;html <strong>lang="ko"</strong>&gt;
&lt;head&gt;
&lt;meta charset="UTF-8"&gt;
&lt;title&gt;목차&lt;/title&gt;
&lt;meta name="viewport" content="width=device-width, initial-scale=1" /&gt;
&lt;meta name="Keywords" content="자바 웹 프로그래밍 2 목차" /&gt;&lt;meta name="Description" content="자바 웹 프로그래밍 2 목차" /&gt;
&lt;link rel="stylesheet" media="print" href="/static/css/print.css" /&gt;
&lt;link rel="stylesheet" media="screen" href="/static/css/screen.css" /&gt;
&lt;link rel="stylesheet" media="all" href="/static/css/ko.css" /&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id="wrap"&gt;
  &lt;div id="header"&gt;
    &lt;div id="java-school-ci"&gt;
      &lt;a href="/"&gt;&lt;img src="/static/images/ci.gif" alt="java-school" /&gt;&lt;/a&gt;
    &lt;/div&gt;
    &lt;div id="member"&gt;
      &lt;a href="#"&gt;&lt;button type="button"&gt;로그인&lt;/button&gt;&lt;/a&gt;
      &lt;a href="#"&gt;&lt;button type="button"&gt;회원가입&lt;/button&gt;&lt;/a&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;div id="main-menu"&gt;
  &lt;ul id="nav"&gt;
    &lt;li&gt;&lt;a href="/ko/thymeleaf"&gt;Thymeleaf&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href="/ko/spring-security"&gt;Spring Security&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href="/ko/board"&gt;Bulletin Board&lt;/a&gt;&lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;
  &lt;div id="i18n"&gt;
  &lt;a href="/en"&gt;english&lt;/a&gt; 
&lt;/div&gt;
..
.	
</pre>

<div class="filename">en/index.html source code</div>
<pre class="prettyprint">&lt;!DOCTYPE html&gt;
&lt;html <strong>lang="en"</strong>&gt;
&lt;head&gt;
&lt;meta charset="UTF-8"&gt;
&lt;title&gt;TOC&lt;/title&gt;
&lt;meta name="viewport" content="width=device-width, initial-scale=1" /&gt;
&lt;meta name="Keywords" content="TOC" /&gt;&lt;meta name="Description" content="TOC" /&gt;
&lt;link rel="stylesheet" media="print" href="/static/css/print.css" /&gt;
&lt;link rel="stylesheet" media="screen" href="/static/css/screen.css" /&gt;
&lt;link rel="stylesheet" media="all" href="/static/css/en.css" /&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id="wrap"&gt;
  &lt;div id="header"&gt;
    &lt;div id="java-school-ci"&gt;
      &lt;a href="/"&gt;&lt;img src="/static/images/ci.gif" alt="java-school" /&gt;&lt;/a&gt;
    &lt;/div&gt;
    &lt;div id="member"&gt;
      &lt;a href="#"&gt;&lt;button type="button"&gt;로그인&lt;/button&gt;&lt;/a&gt;
      &lt;a href="#"&gt;&lt;button type="button"&gt;회원가입&lt;/button&gt;&lt;/a&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;div id="main-menu"&gt;
  &lt;ul id="nav"&gt;
    &lt;li&gt;&lt;a href="/en/thymeleaf"&gt;Thymeleaf&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href="/en/spring-security"&gt;Spring Security&lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href="/en/board"&gt;Bulletin Board&lt;/a&gt;&lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;
  &lt;div id="i18n"&gt;
  &lt;a href="/ko"&gt;korean&lt;/a&gt; 
&lt;/div&gt;
..
.	
</pre>

</article>

<article id="messagesource">

<h2>MessageSource</h2>

<pre class="prettyprint">@Bean
public MessageSource messageSource() {
  ResourceBundleMessageSource messageSource = new ResourceBundleMessageSource();
  messageSource.setBasename("messages");
  messageSource.setDefaultEncoding("UTF-8");
  return messageSource;
}
</pre>

<p>
import org.springframework.context.MessageSource;<br />
import org.springframework.context.support.ResourceBundleMessageSource;<br />
</p>

<pre class="prettyprint">@Bean
public SpringTemplateEngine templateEngine() {
  SpringTemplateEngine templateEngine = new SpringTemplateEngine();
  templateEngine.setTemplateResolver(templateResolver());
  templateEngine.setEnableSpringELCompiler(true);
  <strong>templateEngine.setTemplateEngineMessageSource(messageSource());</strong>
  return templateEngine;
}
</pre>

<pre class="prettyprint">@Bean
public MessageSource messageSource() {
  ReloadableResourceBundleMessageSource messageSource = new ReloadableResourceBundleMessageSource();
  messageSource.setBasename("<strong>WEB-INF/</strong>messages");//(1)
  messageSource.setDefaultEncoding("UTF-8");
  messageSource.<strong>setCacheSeconds(10)</strong>;//(2)
  return messageSource;
}
</pre>

<p>
import org.springframework.context.support.ReloadableResourceBundleMessageSource;<br />
</p>

<div class="filename">src/main/webapp/WEB-INF/messages_ko.properties</div>
<pre class="prettyprint">login=로그인
signUp=회원가입
</pre>

<div class="filename">src/main/webapp/WEB-INF/messages_en.properties</div>
<pre class="prettyprint">login=Login
signUp=Sign Up
</pre>

<div class="filename">layout/baseLayoutFile.html</div>
<pre class="prettyprint">&lt;div id="member"&gt;
  &lt;a href="#" <strong>th:href="@{/users/login}"</strong>&gt;&lt;button type="button" <strong>th:text="${lang == null} ? #{login} : (${lang == 'ko'} ? _ : 'Login')"</strong>&gt;로그인&lt;/button&gt;&lt;/a&gt;
  &lt;a href="#" <strong>th:href="@{/user/signUp}"</strong>&gt;&lt;button type="button" <strong>th:text="${lang == null} ? #{signUp} : (${lang == 'ko'} ? _ : 'Sing Up')"</strong>&gt;회원가입&lt;/button&gt;&lt;/a&gt;
&lt;/div&gt;
</pre>

<pre class="prettyprint">&lt;button type="button" th:text="${lang == null} ? #{login} : (${lang == 'ko'} ? '로그인' : 'Login')"&gt;로그인&lt;/button&gt;</pre>
<pre class="prettyprint">&lt;button type="button" th:text="${lang == null} ? #{login} : (${lang == 'ko'} ? _ : 'Login')"&gt;로그인&lt;/button&gt;</pre>

<div class="filename">home/menu.html</div>
<pre class="prettyprint">&lt;html xmlns:th="http://www.thymeleaf.org"&gt;
&lt;head&gt;
&lt;link rel="stylesheet" media="all" href="../../../static/css/screen.css" /&gt;
&lt;style&gt;
#sidebar {
  margin-left: 0;
|
&lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;th:block th:fragment="index" id="sidebar"&gt;
&lt;h1&gt;Home&lt;/h1&gt;
&lt;ul&gt;
  &lt;li class="sub-heading" th:text="<strong>${lang == null} ? #{samples} : (${lang == 'ko'} ? _ : 'samples')</strong>"&gt;예제 소스&lt;/li&gt;
  &lt;li&gt;&lt;a href="https://github.com/kimjonghoon/java-web-programming-2-samples" th:text="<strong>${lang == null} ? #{jwp2samples} : (${lang == 'ko'} ? _ : 'Web Programming 2')</strong>"&gt;자바 웹 프로그래밍 2&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/th:block&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>

<div class="filename">src/main/webapp/WEB-INF/messages_ko.properties</div>
<pre class="prettyprint">login=로그인
signUp=회원가입
<strong>samples=예제 소스</strong>
<strong>jwp2samples=자바 웹 프로그래밍 2</strong>
</pre>

<div class="filename">src/main/webapp/WEB-INF/messages_en.properties</div>
<pre class="prettyprint">login=Login
signUp=Sign Up
<strong>samples=samples</strong>
<strong>jwp2samples=Web Programming 2</strong>
</pre>

<div class="filename">index.html</div>
<pre class="prettyprint">&lt;!DOCTYPE html&gt;
&lt;!--/* 1 title, 2 metas, 3 links, 4 scripts, 5 mainmenu, 6 i18n, 7 maintext, 8 submenu, 9 reference */--&gt;
&lt;html th:replace="~{layout/baseLayoutFile :: layout (~{::title}, ~{::meta}, ~{::link}, ~{}, ~{::nav}, ~{::div}, ~{::section}, ~{::aside}, ~{})}" xmlns:th="http://www.thymeleaf.org"&gt;
&lt;head&gt;
&lt;title th:replace="${#locale.language == 'ko'} ? ~{articles/toc :: title} : ~{articles/toc_en :: title}"&gt;홈페이지&lt;/title&gt;
&lt;meta name="Keywords" th:replace="${#locale.language == 'ko'} ? ~{articles/toc :: meta[@name='Keywords']} : ~{articles/toc_en :: meta[@name='Keywords']}" /&gt;
&lt;meta name="Description" th:replace="${#locale.language == 'ko'} ? ~{articles/toc :: meta[@name='Description']} : ~{articles/toc_en :: meta[@name='Description']}" /&gt;
&lt;link rel="stylesheet" media="all" th:href="${#locale.language == 'ko'} ? @{/static/css/ko.css} : @{/static/css/en.css}" /&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;nav th:replace="~{commons/mainmenu :: mainmenu}"&gt;&lt;/nav&gt;
&lt;div id="i18n"&gt;
  &lt;a th:href="@{/ko}"&gt;korean&lt;/a&gt; 
  &lt;a th:href="@{/en}"&gt;english&lt;/a&gt; 
&lt;/div&gt;
&lt;section th:replace="${#locale.language == 'ko'} ? ~{articles/toc :: article} : ~{articles/toc_en :: article}"&gt;&lt;/section&gt;
<strong>&lt;aside th:replace="~{home/menu :: index}"&gt;&lt;/aside&gt;</strong>
&lt;/body&gt;
&lt;/html&gt;
</pre>

<pre class="prettyprint">&lt;aside th:replace="${#locale.language == 'ko'} ? ~{home/menu :: index} : ~{home/menu_en :: index}"&gt;&lt;/aside&gt;</pre>

<pre class="prettyprint">&lt;aside th:replace="~{home/menu :: index}"&gt;&lt;/aside&gt;</pre>

<pre class="prettyprint no-border">messageSource.setBasename("WEB-INF/messages");</pre>

<pre class="prettyprint no-border">messageSource.setBasename("messages");</pre>

</article>

<article id="bean-validation">

<h2>Bean Validation</h2>

<pre class="prettyprint">&lt;!-- https://mvnrepository.com/artifact/org.hibernate.validator/hibernate-validator --&gt;
&lt;dependency&gt;
  &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;
  &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;
  &lt;version&gt;8.0.2.Final&lt;/version&gt;
&lt;/dependency&gt;
</pre>

<pre class="prettyprint"><strong>@Override</strong>
public Validator getValidator() {
  LocalValidatorFactoryBean bean = new LocalValidatorFactoryBean();
  bean.setValidationMessageSource(messageSource());
  return bean;
}
</pre>

<p>
import org.springframework.validation.Validator;<br />
import org.springframework.validation.beanvalidation.LocalValidatorFactoryBean;<br />
</p>

<ul>
	<li>User.java</li>
	<li>articles/signUp.html</li>
	<li>users/menu.html</li>
	<li>users/signUp.html</li>
	<li>UsersController.java</li>
</ul>

<div class="filename">User.java</div>
<pre class="prettyprint">package net.java_school.user;

import java.util.List;
<strong>import jakarta.validation.constraints.NotNull;</strong>
<strong>import jakarta.validation.constraints.Size;</strong>

public class User {
  <strong>@NotNull</strong>
  <strong>@Size(min=4, message="{username.validation.error}")</strong>
  private String username;

  <strong>@NotNull</strong>
  <strong>@Size(min=4, message="{password.validation.error}")</strong>
  private String password;
	
  private Integer enabled;

  private List&lt;String&gt; authorities;

  public User() {}
  public User(String username, String password, Integer enabled, List authorities) {
    this.username = username;
    this.password = password;
    this.enabled = enabled;
    this.authorities = authorities;
  }
  public String getUsername() {
    return username;
  }
  public void setUsername(String username) {
    this.username = username;
  }
  public String getPassword() {
    return password;
  }
  public void setPassword(String password) {
    this.password = password;
  }
  public Integer getEnabled() {
    return enabled;
  }
  public void setEnabled(Integer enabled) {
    this.enabled = enabled;
  }
  public List&lt;String&gt; getAuthorities() {
    return authorities;
  }
  public void setAuthorities(List&lt;String&gt; authorities) {
    this.authorities = authorities;
  }
}
</pre>

<div class="filename">articles/signUp.html</div>
<pre class="prettyprint">&lt;html xmlns:th="http://www.thymeleaf.org"&gt;
&lt;head&gt;
&lt;title th:text="#{signUp}"&gt;회원가입&lt;/title&gt;
&lt;meta name="Keywords" content="회원 가입" th:content="#{signUp}" /&gt;
&lt;meta name="Description" content="회원 가입" th:content="#{signUp}" /&gt;
&lt;link rel="stylesheet" media="screen" href="../../../static/css/screen.css" /&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;article&gt;
&lt;h3 th:text="#{signUp}"&gt;회원가입&lt;/h3&gt;
&lt;form id="signUpForm" <strong>th:action="@{/users/signUp}"</strong> <strong>th:method="post"</strong> <strong>th:object="${user}"</strong>&gt;
&lt;table&gt;
&lt;tr&gt;
  &lt;td <strong>th:text="#{username}"</strong>&gt;사용자명&lt;/td&gt;
  &lt;td&gt;
    &lt;input type="text" <strong>th:field="*{username}"</strong>/&gt;&lt;br /&gt;
    &lt;span class="validationError" <strong>th:if="${#fields.hasErrors('username')}"</strong> 
        <strong>th:errors="*{username}"</strong>&gt;이름 에러&lt;/span&gt;
  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
  &lt;td th:text="#{password}"&gt;패스워드&lt;/td&gt;
  &lt;td&gt;
    &lt;input type="password" <strong>th:field="*{password}"</strong>/&gt;&lt;br /&gt;
    &lt;span class="validationError" <strong>th:if="${#fields.hasErrors('password')}"</strong>
        <strong>th:errors="*{password}"</strong>&gt;패스워드 에러&lt;/span&gt;
    &lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
&lt;div&gt;
  &lt;input type="submit" <strong>th:value="#{submit}"</strong> value="전송" /&gt;
&lt;/div&gt;
&lt;/form&gt;
&lt;/article&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>

<div class="filename">src/main/webapp/WEB-INF/messages_ko.properties</div>
<pre class="prettyprint">username=사용자명
password=비밀번호
submit=전송
username.validation.error=사용자 계정명은 4자 이상이어야 합니다.
password.validation.error=비밀번호는 4자 이상이어야 합니다.
</pre>

<div class="filename">src/main/webapp/WEB-INF/messages_en.properties</div>
<pre class="prettyprint">username=Username
password=Password
submit=Submit
username.validation.error=Please enter an account name that is at least 4 characters long.
password.validation.error=Please enter a password that is at least 4 characters long.
</pre>

<div class="filename">UsersController.java</div>
<pre class="prettyprint">package net.java_school.controller;

import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.validation.BindingResult;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import net.java_school.user.User;
import jakarta.validation.Valid;

@Controller
@RequestMapping("users")
public class UsersController {
  @GetMapping("signUp")
  public String signUp(Model model) {
    model.addAttribute("user", new User());
    return "users/signUp";
  }
  @PostMapping("signUp")
  public String signUp(@Valid User user, BindingResult bindingResult) {
    if (bindingResult.hasErrors()) {
      return "users/signUp";
    }
    //TODO DB 
    return "redirect:/";
  }
}
</pre>

<div class="filename">users/signUp.html</div>
<pre class="prettyprint">&lt;!DOCTYPE html&gt;
&lt;!--/* 1 title, 2 metas, 3 links, 4 scripts, 5 mainmenu, 6 i18n, 7 maintext, 8 submenu, 9 reference */--&gt;
&lt;html th:replace="~{layout/baseLayoutFile :: layout (~{::title}, ~{::meta}, ~{::link}, ~{}, ~{::nav}, ~{::div}, ~{::section}, ~{::aside}, ~{})}" xmlns:th="http://www.thymeleaf.org"&gt;
&lt;head&gt;
&lt;title th:replace="~{articles/signUp :: title}"&gt;회원가입&lt;/title&gt;
&lt;meta name="Keywords" th:replace="~{articles/signUp :: meta[@name='Keywords']}" /&gt;
&lt;meta name="Description" th:replace="~{articles/signUp :: meta[@name='Description']}" /&gt;
&lt;link rel="stylesheet" media="all" th:href="${#locale.language == 'ko'} ? @{/static/css/ko.css} : @{/static/css/en.css}" /&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;nav th:replace="~{commons/mainmenu :: mainmenu}"&gt;&lt;/nav&gt;
&lt;div id="i18n"&gt;&lt;/div&gt;
&lt;section th:replace="~{articles/signUp :: article}"&gt;&lt;/section&gt;
&lt;aside th:replace="~{users/menu :: index}"&gt;&lt;/aside&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>

<div class="filename">users/menu.html</div>
<pre class="prettyprint">&lt;html xmlns:th="http://www.thymeleaf.org"&gt;
&lt;head&gt;
&lt;link rel="stylesheet" media="all" href="../../../static/css/screen.css" /&gt;
&lt;style&gt;
#sidebar {
  margin-left: 0;
|
&lt;/style&gt;
&lt;body&gt;
&lt;th:block th:fragment="index" id="sidebar"&gt;
&lt;h1 th:text="#{user}"&gt;회원&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href="#" th:href="@{/users/login}" th:text="#{login}"&gt;로그인&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href="#" th:href="@{/users/signUp}" th:text="#{signUp}"&gt;회원가입&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/th:block&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>

<p>
<img src="../../../static/images/messageSource.png" th:src="@{/static/images/messageSource.png}" class="browser-output" alt="bean validation with messagesource" /><br />
</p>

<div class="filename">[source code]</div>
<pre class="prettyprint">&lt;table&gt;
&lt;tr&gt;
  &lt;td&gt;사용자명&lt;/td&gt;
  &lt;td&gt;
    &lt;input type="text" id="username" name="username" value=""/&gt;&lt;br /&gt;
    &lt;span class="validationError"&gt;사용자 계정명은 4자 이상이어야 합니다.&lt;/span&gt;
  &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
  &lt;td&gt;비밀번호&lt;/td&gt;
  &lt;td&gt;
    &lt;input type="password" id="password" name="password" value=""/&gt;&lt;br /&gt;
    &lt;span class="validationError"&gt;비밀번호는 4자 이상이어야 합니다.&lt;/span&gt;
    &lt;/td&gt;
&lt;/tr&gt;
&lt;/table&gt;
</pre>

<div class="filename">validation.css</div>
<pre class="prettyprint">.validationError {
  color: red;
}
</pre>

<div class="filename">users/signUp</div>
<pre class="prettyprint">&lt;!DOCTYPE html&gt;
&lt;!--/* 1 title, 2 metas, 3 links, 4 scripts, 5 mainmenu, 6 i18n, 7 maintext, 8 submenu, 9 reference */--&gt;
&lt;html th:replace="~{layout/baseLayoutFile :: layout (~{::title}, ~{::meta}, ~{::link}, ~{}, ~{::nav}, ~{::div}, ~{::section}, ~{::aside}, ~{})}" xmlns:th="http://www.thymeleaf.org"&gt;
&lt;head&gt;
&lt;title th:replace="~{articles/signUp :: title}"&gt;회원가입&lt;/title&gt;
&lt;meta name="Keywords" th:replace="~{articles/signUp :: meta[@name='Keywords']}" /&gt;
&lt;meta name="Description" th:replace="~{articles/signUp :: meta[@name='Description']}" /&gt;
&lt;link rel="stylesheet" media="all" th:href="${#locale.language == 'ko'} ? @{/static/css/ko.css} : @{/static/css/en.css}" /&gt;
<strong>&lt;link rel="stylesheet" media="all" th:href="@{/static/css/validation.css}" /&gt;</strong>
&lt;/head&gt;
&lt;body&gt;
&lt;nav th:replace="~{commons/mainmenu :: mainmenu}"&gt;&lt;/nav&gt;
&lt;div id="i18n"&gt;&lt;/div&gt;
&lt;section th:replace="~{articles/signUp :: article}"&gt;&lt;/section&gt;
&lt;aside th:replace="~{users/menu :: index}"&gt;&lt;/aside&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>

<p>
<img src="../../../static/images/messageSource-with-style.png" th:src="@{/static/images/messageSource-with-style.png}" class="browser-output" alt="validation error style" /><br />
</p>

</article>

<article id="mapping-requests">

<h2>Mapping Requests</h2>

<h3>Controller</h3>

<div class="filename">KoHomeController.java</div>
<pre class="prettyprint">package net.java_school.controller;

import org.springframework.ui.Model;

import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestMapping;

@Controller
@RequestMapping("ko")
public class KoHomeController {
  static final String lang = "ko";

  @GetMapping
  public String index(Model model) {
    model.addAttribute("lang", lang);
    return "ko/index";
  }
}
</pre>

<div class="filename">EnHomeController.java</div>
<pre class="prettyprint">package net.java_school.controller;

import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.ui.Model;

@Controller
@RequestMapping("en")
public class EnHomeController {
  static final String lang = "en";

  @GetMapping
  public String index(Model model) {
    model.addAttribute("lang", lang);
    return "en/index";
  }
}
</pre>

<div class="filename">HomeController.java</div>
<pre class="prettyprint">package net.java_school.controller;

import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.ui.Model;

@Controller
public class HomeController {

  @GetMapping("/")
  public String index() {
    return "index";
  }
	
  @GetMapping("{lang:en|ko}")
  public String indexByLang(@PathVariable("lang") String lang, Model model) {
    model.addAttribute("lang", lang);
    return lang + "/index";
  }

  @GetMapping("{chapter:thymeleaf|spring-security}")
  public String chapterIndex(@PathVariable("chapter") String chapter) {
    return chapter + "/index";
  }
	
  @GetMapping("{chapter:thymeleaf|spring-security}/{section}")
  public String getSection(@PathVariable("chapter") String chapter,
      @PathVariable("section") String section) {

    return chapter + "/" + section;
  }

  @GetMapping("{lang:en|ko}/{chapter:thymeleaf|spring-security}")
  public String chapterIndexByLang(@PathVariable("lang") String lang,
      @PathVariable("chapter") String chapter, Model model) {

    model.addAttribute("lang", lang);
    return lang + "/" + chapter + "/index";
  }

  @GetMapping("{lang:en|ko}/{chapter:thymeleaf|spring-security}/{section}")
  public String getSectionByLang(@PathVariable("lang") String lang,
      @PathVariable("chapter") String chapter,
      @PathVariable("section") String section, Model model) {

    model.addAttribute("lang", lang);
    return lang + "/" + chapter + "/" + section;
  }
}
</pre>

<pre class="prettyprint">@GetMapping("{chapter:thymeleaf|spring-security}")
public String chapterIndex(@PathVariable("chapter") String chapter) {
  return chapter + "/index";
}
@GetMapping("{chapter:thymeleaf|spring-security}/{section}")
public String getSection(@PathVariable("chapter") String chapter,
  @PathVariable("section") String section) {

  return chapter + "/" + section;
}
@GetMapping("{lang:en|ko}/{chapter:thymeleaf|spring-security}")
public String chapterIndexByLang(@PathVariable("lang") String lang,
  @PathVariable("chapter") String chapter, Model model) {

  model.addAttribute("lang", lang);
  return lang + "/" + chapter + "/index";
}
@GetMapping("{lang:en|ko}/{chapter:thymeleaf|spring-security}/{section}")
public String getSectionByLang(@PathVariable("lang") String lang,
  @PathVariable("chapter") String chapter,
  @PathVariable("section") String section, Model model) {

  model.addAttribute("lang", lang);
  return lang + "/" + chapter + "/" + section;
}
</pre>

<pre class="prettyprint">@GetMapping(value={"{chapter:thymeleaf|spring-security}", 
    "{chapter:thymeleaf|spring-security}/{section}"})
public String getSection(@PathVariable("chapter") String chapter, 
    @PathVariable(value="section", required=false) String section) {
	
  if (section != null) {
    return chapter + "/" + section;
  } else {
    return chapter + "/index";
  }
}
@GetMapping(value={"{lang:en|ko}/{chapter:thymeleaf|spring-security}", 
    "{lang:en|ko}/{chapter:thymeleaf|spring-security}/{section}"})
public String getSectionByLang(@PathVariable("lang") String lang, 
    @PathVariable("chapter") String chapter, 
    @PathVariable(value="section", required=false) String section, Model model) {
	
  model.addAttribute("lang", lang);
  if (section != null)
    return lang + "/" + chapter + "/" + section;
  else 
    return lang + "/" + chapter + "/index";
}
</pre>
	
<h3>Google Code Prettify</h3>

<p>
https://github.com/googlearchive/code-prettify<br />
https://github.com/googlearchive/code-prettify/blob/master/docs/getting_started.md<br />
</p>

<pre class="prettyprint">&lt;link rel="stylesheet" type="text/css" href="prettify.css" /&gt;
&lt;script type="text/javascript" src="run_prettify.js"&gt;&lt;/script&gt;
</pre>

</article>

</body>
</html>